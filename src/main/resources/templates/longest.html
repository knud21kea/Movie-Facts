<!DOCTYPE html>
<html lang=\"en\" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Movies - Compare</title>
    <style>body {
        background-image: url('../static/movies.png');
        background-repeat: no-repeat;
        background-size: cover;
        background-color: rgba(255, 255, 255, 0.95);
        background-blend-mode: lighten;
    }</style>
</head>
<body>
<p>
    <button onclick="location.href='../'">Back to Main Menu</button>
</p>
<form id="form" onsubmit="return false;">
    <label for="genre1">Choose 1st genre: </label><select name="genre1" id="genre1">
    <option value="Action">Action</option>
    <option value="Adventure">Adventure</option>
    <option value="Horror">Horror</option>
    <option value="War">War</option>
    <option value="Romance">Romance</option>
    <option value="Westerns">Westerns</option>
    <option value="Science Fiction">Science Fiction</option>
    <option value="Western">Western</option>
    <option value="Drama">Drama</option>
    <option value="Music">Music</option>
    <option value="Crime">Crime</option>
    <option value="Fantasy">Fantasy</option>
    <option value="Comedy">Comedy</option>
    <option value="Mystery">Mystery</option>
    <option value="Short">Short</option>
</select> <label for="genre2">Choose 2nd genre: </label><select name="genre2" id="genre2">
    <option value="Action">Action</option>
    <option value="Adventure">Adventure</option>
    <option value="Horror">Horror</option>
    <option value="War">War</option>
    <option value="Romance">Romance</option>
    <option value="Westerns">Westerns</option>
    <option value="Science Fiction">Science Fiction</option>
    <option value="Western">Western</option>
    <option value="Drama">Drama</option>
    <option value="Music">Music</option>
    <option value="Crime">Crime</option>
    <option value="Fantasy">Fantasy</option>
    <option value="Comedy">Comedy</option>
    <option value="Mystery">Mystery</option>
    <option value="Short">Short</option>
</select> <input type="submit" onclick="refresh();">
</form>
<script>function refresh() {
    const input1 = document.getElementById('genre1').value;
    const input2 = document.getElementById('genre2').value;
    const url = new URL('http://localhost:8080/longest?g1=Action&g2=Adventure');
    const search_params = url.searchParams;
    search_params.set('g1', input1);
    search_params.set('g2', input2);
    url.search = search_params.toString();
    location.href = url.toString()
}</script>
<p>The search parameters can also be changed in the URL.</p>
<h3>Comparing genres by average runtime.</h3>
<p>Currently comparing <span th:text="${genre1}"></span> with <span th:text="${genre2}"></span>.</p>
<p>Average running time for <span th:text="${genre1}"></span> is <span th:text="${runtime1}"></span> minutes and for <span th:text="${genre2}"></span> <span th:text="${runtime2}"></span> minutes.</p>
<p><em>So <span th:text="${genre3}"></span> has the longest average running time.</em></p><h4>Here is a list of available genres.</h4>
<ul>
    <li th:each="subject: ${subjects}">
        <span th:text="${subject}"></span>
    </li>
</ul>
</body>
</html>